# Benchmarks

In the vector and NTT/INTT tables, the index column represents the size of the array used in the cooresponding operation.

## Table of Contents

- [Benchmark Results](#benchmark-results)
  - [Montgomery Modular Arithmetic Benchmarks](#montgomery-modular-arithmetic-benchmarks)
  - [Montgomery Vector Arithmetic mod 1021 (10-bit prime)](#montgomery-vector-arithmetic-mod-1021 "10-bit prime")
  - [Montgomery Vector Arithmetic mod 1048361 (20-bit prime)](#montgomery-vector-arithmetic-mod-1048361 "20-bit prime")
  - [Montgomery Vector Arithmetic mod 1073741101 (30-bit prime)](#montgomery-vector-arithmetic-mod-1073741101)
  - [Montgomery Vector Arithmetic mod 1099511626321 (40-bit prime)](#montgomery-vector-arithmetic-mod-1099511626321)
  - [Montgomery Vector Arithmetic mod 1125899906842201 (50-bit prime)](#montgomery-vector-arithmetic-mod-1125899906842201)
  - [Montgomery Vector Arithmetic mod 1152921504606845161 (60-bit prime)](#montgomery-vector-arithmetic-mod-1152921504606845161)
  - [Number Theoretic Transforms mod 1047041 (20-bit prime)](#number-theoretic-transforms-mod-1047041 "20-bit prime")
  - [Number Theoretic Transforms mod 1073738753 (30-bit prime)](#number-theoretic-transforms-mod-1073738753)
  - [Number Theoretic Transforms mod 1099511603713 (40-bit prime)](#number-theoretic-transforms-mod-1099511603713)
  - [Number Theoretic Transforms mod 1125899906826241 (50-bit prime)](#number-theoretic-transforms-mod-1125899906826241)
  - [Number Theoretic Transforms mod 1152921504606844417 (60-bit prime)](#number-theoretic-transforms-mod-1152921504606844417)

## Benchmark Results

### Montgomery Modular Arithmetic Benchmarks

|                                          | `Barrett Addition`       | `Montgomery Addition`           | `Barrett Subtraction`           | `Montgomery Subtraction`        | `Barrett Multiplication`        | `Montgomery Multiplication`     |
| :--------------------------------------- | :----------------------- | :------------------------------ | :------------------------------ | :------------------------------ | :------------------------------ | :------------------------------ |
| **`1021 (10-bit prime)`**                | `0.74 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.04x slower**) | `0.72 ns` (âœ… **1.03x faster**) | `0.75 ns` (âœ… **1.01x slower**) | `0.74 ns` (âœ… **1.01x faster**) | `0.78 ns` (âœ… **1.04x slower**) |
| **`1048361 (20-bit prime)`**             | `0.73 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.07x slower**) | `0.76 ns` (âœ… **1.04x slower**) | `0.81 ns` (âœ… **1.11x slower**) | `0.77 ns` (âœ… **1.06x slower**) | `0.78 ns` (âœ… **1.08x slower**) |
| **`1073741101 (30-bit prime)`**          | `0.73 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.06x slower**) | `0.73 ns` (âœ… **1.00x faster**) | `0.77 ns` (âœ… **1.05x slower**) | `0.73 ns` (âœ… **1.00x faster**) | `0.77 ns` (âœ… **1.06x slower**) |
| **`1099511626321 (40-bit prime)`**       | `0.72 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.06x slower**) | `0.73 ns` (âœ… **1.01x slower**) | `0.76 ns` (âœ… **1.06x slower**) | `0.73 ns` (âœ… **1.01x slower**) | `0.79 ns` (âœ… **1.10x slower**) |
| **`1125899906842201 (50-bit prime)`**    | `0.74 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.04x slower**) | `0.74 ns` (âœ… **1.01x faster**) | `0.77 ns` (âœ… **1.03x slower**) | `0.76 ns` (âœ… **1.02x slower**) | `0.78 ns` (âœ… **1.05x slower**) |
| **`1152921504606845161 (60-bit prime)`** | `0.73 ns` (âœ… **1.00x**) | `0.77 ns` (âœ… **1.05x slower**) | `0.74 ns` (âœ… **1.01x slower**) | `0.76 ns` (âœ… **1.03x slower**) | `0.72 ns` (âœ… **1.02x faster**) | `0.78 ns` (âœ… **1.06x slower**) |

### Montgomery Vector Arithmetic mod 1021 (10-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `10.81 ns` (âœ… **1.00x**)  |
| **`16`**    | `21.66 ns` (âœ… **1.00x**)  |
| **`32`**    | `44.22 ns` (âœ… **1.00x**)  |
| **`64`**    | `88.33 ns` (âœ… **1.00x**)  |
| **`128`**   | `174.32 ns` (âœ… **1.00x**) |
| **`256`**   | `350.07 ns` (âœ… **1.00x**) |
| **`512`**   | `713.79 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.39 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.85 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.66 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.14 us` (âœ… **1.00x**)  |
| **`16384`** | `50.33 us` (âœ… **1.00x**)  |
| **`32768`** | `127.77 us` (âœ… **1.00x**) |

### Montgomery Vector Arithmetic mod 1048361 (20-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `11.47 ns` (âœ… **1.00x**)  |
| **`16`**    | `22.91 ns` (âœ… **1.00x**)  |
| **`32`**    | `44.21 ns` (âœ… **1.00x**)  |
| **`64`**    | `105.25 ns` (âœ… **1.00x**) |
| **`128`**   | `179.01 ns` (âœ… **1.00x**) |
| **`256`**   | `344.12 ns` (âœ… **1.00x**) |
| **`512`**   | `702.89 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.42 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.80 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.64 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.31 us` (âœ… **1.00x**)  |
| **`16384`** | `51.04 us` (âœ… **1.00x**)  |
| **`32768`** | `125.41 us` (âœ… **1.00x**) |

### Montgomery Vector Arithmetic mod 1073741101 (30-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `11.81 ns` (âœ… **1.00x**)  |
| **`16`**    | `22.39 ns` (âœ… **1.00x**)  |
| **`32`**    | `44.75 ns` (âœ… **1.00x**)  |
| **`64`**    | `87.42 ns` (âœ… **1.00x**)  |
| **`128`**   | `176.24 ns` (âœ… **1.00x**) |
| **`256`**   | `345.90 ns` (âœ… **1.00x**) |
| **`512`**   | `686.19 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.37 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.77 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.66 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.38 us` (âœ… **1.00x**)  |
| **`16384`** | `48.50 us` (âœ… **1.00x**)  |
| **`32768`** | `124.76 us` (âœ… **1.00x**) |

### Montgomery Vector Arithmetic mod 1099511626321 (40-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `11.34 ns` (âœ… **1.00x**)  |
| **`16`**    | `22.57 ns` (âœ… **1.00x**)  |
| **`32`**    | `43.70 ns` (âœ… **1.00x**)  |
| **`64`**    | `86.66 ns` (âœ… **1.00x**)  |
| **`128`**   | `176.97 ns` (âœ… **1.00x**) |
| **`256`**   | `342.86 ns` (âœ… **1.00x**) |
| **`512`**   | `686.55 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.37 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.79 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.49 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.43 us` (âœ… **1.00x**)  |
| **`16384`** | `49.21 us` (âœ… **1.00x**)  |
| **`32768`** | `122.68 us` (âœ… **1.00x**) |

### Montgomery Vector Arithmetic mod 1125899906842201 (50-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `10.72 ns` (âœ… **1.00x**)  |
| **`16`**    | `21.52 ns` (âœ… **1.00x**)  |
| **`32`**    | `43.53 ns` (âœ… **1.00x**)  |
| **`64`**    | `86.04 ns` (âœ… **1.00x**)  |
| **`128`**   | `174.92 ns` (âœ… **1.00x**) |
| **`256`**   | `346.89 ns` (âœ… **1.00x**) |
| **`512`**   | `686.55 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.36 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.74 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.45 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.57 us` (âœ… **1.00x**)  |
| **`16384`** | `47.83 us` (âœ… **1.00x**)  |
| **`32768`** | `123.33 us` (âœ… **1.00x**) |

### Montgomery Vector Arithmetic mod 1152921504606845161 (60-bit prime)

|             | `FMA`                      |
| :---------- | :------------------------- |
| **`8`**     | `10.85 ns` (âœ… **1.00x**)  |
| **`16`**    | `21.74 ns` (âœ… **1.00x**)  |
| **`32`**    | `43.33 ns` (âœ… **1.00x**)  |
| **`64`**    | `87.51 ns` (âœ… **1.00x**)  |
| **`128`**   | `173.92 ns` (âœ… **1.00x**) |
| **`256`**   | `348.14 ns` (âœ… **1.00x**) |
| **`512`**   | `692.95 ns` (âœ… **1.00x**) |
| **`1024`**  | `1.41 us` (âœ… **1.00x**)   |
| **`2048`**  | `2.78 us` (âœ… **1.00x**)   |
| **`4096`**  | `5.56 us` (âœ… **1.00x**)   |
| **`8192`**  | `11.14 us` (âœ… **1.00x**)  |
| **`16384`** | `43.91 us` (âœ… **1.00x**)  |
| **`32768`** | `120.92 us` (âœ… **1.00x**) |

### Number Theoretic Transforms mod 1047041 (20-bit prime)

|           | `Forward`                  | `Inverse`                         |
| :-------- | :------------------------- | :-------------------------------- |
| **`2`**   | `5.82 ns` (âœ… **1.00x**)   | `5.68 ns` (âœ… **1.02x faster**)   |
| **`4`**   | `11.36 ns` (âœ… **1.00x**)  | `11.64 ns` (âœ… **1.02x slower**)  |
| **`8`**   | `25.71 ns` (âœ… **1.00x**)  | `26.46 ns` (âœ… **1.03x slower**)  |
| **`16`**  | `59.08 ns` (âœ… **1.00x**)  | `59.17 ns` (âœ… **1.00x slower**)  |
| **`32`**  | `134.39 ns` (âœ… **1.00x**) | `135.35 ns` (âœ… **1.01x slower**) |
| **`64`**  | `308.38 ns` (âœ… **1.00x**) | `305.62 ns` (âœ… **1.01x faster**) |
| **`128`** | `717.88 ns` (âœ… **1.00x**) | `705.96 ns` (âœ… **1.02x faster**) |

### Number Theoretic Transforms mod 1073738753 (30-bit prime)

|           | `Forward`                  | `Inverse`                         |
| :-------- | :------------------------- | :-------------------------------- |
| **`2`**   | `13.14 ns` (âœ… **1.00x**)  | `5.57 ns` (ðŸš€ **2.36x faster**)   |
| **`4`**   | `11.35 ns` (âœ… **1.00x**)  | `11.19 ns` (âœ… **1.01x faster**)  |
| **`8`**   | `26.85 ns` (âœ… **1.00x**)  | `26.39 ns` (âœ… **1.02x faster**)  |
| **`16`**  | `59.17 ns` (âœ… **1.00x**)  | `58.62 ns` (âœ… **1.01x faster**)  |
| **`32`**  | `133.78 ns` (âœ… **1.00x**) | `134.13 ns` (âœ… **1.00x slower**) |
| **`64`**  | `307.85 ns` (âœ… **1.00x**) | `306.13 ns` (âœ… **1.01x faster**) |
| **`128`** | `717.93 ns` (âœ… **1.00x**) | `706.88 ns` (âœ… **1.02x faster**) |

### Number Theoretic Transforms mod 1099511603713 (40-bit prime)

|           | `Forward`                  | `Inverse`                         |
| :-------- | :------------------------- | :-------------------------------- |
| **`2`**   | `7.33 ns` (âœ… **1.00x**)   | `7.50 ns` (âœ… **1.02x slower**)   |
| **`4`**   | `15.38 ns` (âœ… **1.00x**)  | `15.37 ns` (âœ… **1.00x faster**)  |
| **`8`**   | `33.34 ns` (âœ… **1.00x**)  | `33.20 ns` (âœ… **1.00x faster**)  |
| **`16`**  | `111.91 ns` (âœ… **1.00x**) | `110.02 ns` (âœ… **1.02x faster**) |
| **`32`**  | `152.81 ns` (âœ… **1.00x**) | `154.27 ns` (âœ… **1.01x slower**) |
| **`64`**  | `322.57 ns` (âœ… **1.00x**) | `324.36 ns` (âœ… **1.01x slower**) |
| **`128`** | `729.82 ns` (âœ… **1.00x**) | `748.74 ns` (âœ… **1.03x slower**) |

### Number Theoretic Transforms mod 1125899906826241 (50-bit prime)

|           | `Forward`                  | `Inverse`                         |
| :-------- | :------------------------- | :-------------------------------- |
| **`2`**   | `9.62 ns` (âœ… **1.00x**)   | `9.76 ns` (âœ… **1.01x slower**)   |
| **`4`**   | `21.30 ns` (âœ… **1.00x**)  | `21.15 ns` (âœ… **1.01x faster**)  |
| **`8`**   | `47.96 ns` (âœ… **1.00x**)  | `48.32 ns` (âœ… **1.01x slower**)  |
| **`16`**  | `118.08 ns` (âœ… **1.00x**) | `118.27 ns` (âœ… **1.00x slower**) |
| **`32`**  | `304.99 ns` (âœ… **1.00x**) | `305.43 ns` (âœ… **1.00x slower**) |
| **`64`**  | `723.14 ns` (âœ… **1.00x**) | `729.76 ns` (âœ… **1.01x slower**) |
| **`128`** | `1.62 us` (âœ… **1.00x**)   | `1.61 us` (âœ… **1.01x faster**)   |

### Number Theoretic Transforms mod 1152921504606844417 (60-bit prime)

|           | `Forward`                  | `Inverse`                         |
| :-------- | :------------------------- | :-------------------------------- |
| **`2`**   | `9.57 ns` (âœ… **1.00x**)   | `10.17 ns` (âœ… **1.06x slower**)  |
| **`4`**   | `21.36 ns` (âœ… **1.00x**)  | `21.68 ns` (âœ… **1.01x slower**)  |
| **`8`**   | `49.02 ns` (âœ… **1.00x**)  | `49.43 ns` (âœ… **1.01x slower**)  |
| **`16`**  | `119.02 ns` (âœ… **1.00x**) | `120.26 ns` (âœ… **1.01x slower**) |
| **`32`**  | `314.65 ns` (âœ… **1.00x**) | `320.00 ns` (âœ… **1.02x slower**) |
| **`64`**  | `765.97 ns` (âœ… **1.00x**) | `760.94 ns` (âœ… **1.01x faster**) |
| **`128`** | `1.77 us` (âœ… **1.00x**)   | `1.76 us` (âœ… **1.01x faster**)   |

---

Made with [criterion-table](https://github.com/nu11ptr/criterion-table)

Generate by running `cargo criterion --message-format=json | criterion-table > benches/BENCHMARKS.md`
